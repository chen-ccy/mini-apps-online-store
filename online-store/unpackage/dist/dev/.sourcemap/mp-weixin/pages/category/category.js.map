{"version":3,"sources":["uni-app:///main.js","webpack:///G:/编程/网页制作学习/编程相关/Vue相关/uni-app/online-store/online-store/pages/category/category.vue?3b75","webpack:///G:/编程/网页制作学习/编程相关/Vue相关/uni-app/online-store/online-store/pages/category/category.vue?859b","webpack:///G:/编程/网页制作学习/编程相关/Vue相关/uni-app/online-store/online-store/pages/category/category.vue?4640","webpack:///G:/编程/网页制作学习/编程相关/Vue相关/uni-app/online-store/online-store/pages/category/category.vue?2b5b","uni-app:///pages/category/category.vue","webpack:///G:/编程/网页制作学习/编程相关/Vue相关/uni-app/online-store/online-store/pages/category/category.vue?7838"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,+C,mDACAA,EAAWC,a;;;;2DCHX,kTACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,8BACZ,aAAAF,E;;;;2GCvBf,g0B;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,weAAknB,eAAG,G;;;;6HC0BrnB,6CACA,qCACA,qC,qoDAEA,CACA,gBACE,WAAF,CACI,QAAJ,EACI,WAAJ,EACI,mBAAJ,EACI,iBAAJ,GAEE,OAAF,oBACE,KATF,WAUA,OACA,cACM,aAAN,GAEM,cAAN,EACA,oBAGE,QAlBF,WAoBI,KAAJ,gBAEE,SAAF,CACA,gBADA,WAEA,gCACA,yDAEI,mBALJ,WAMA,gCACA,wEAGE,QAAF,CACA,aADA,WACA,YACA,qCAEA,0CAEQ,IAAR,kCACU,EAAV,iBACY,cAAZ,GACY,eAAZ,CACc,IAAd,GACc,IAAd,GACc,KAAd,KAKQ,EAAR,yBAGI,kBApBJ,SAoBA,cACM,KAAN,eACA,kCACM,EAAN,uCACQ,EAAR,wCACQ,EAAR,kCACQ,EAAR,0BACQ,EAAR,2BACQ,EAAR,8BAGI,mBA/BJ,SA+BA,cAEA,kDAEA,8CAEA,2DACQ,EAAR,sCAMI,WA5CJ,SA4CA,GACM,KAAN,wB;;;;2DC3GA,qsBAA45B,eAAG,G","file":"pages/category/category.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/category/category.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./category.vue?vue&type=template&id=682a9774&scoped=true&\"\nvar renderjs\nimport script from \"./category.vue?vue&type=script&lang=js&\"\nexport * from \"./category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./category.vue?vue&type=style&index=0&id=682a9774&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"682a9774\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/category/category.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./category.vue?vue&type=template&id=682a9774&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./category.vue?vue&type=script&lang=js&\"","<template>\n  <div id=\"category\">\n    <div class=\"content\">\n      <tab-menu :categories=\"categories\"\n                @selectItem=\"selectItem\"></tab-menu>\n\n      <scroll-view scroll-y id=\"tab-content\" :data=\"[categoryData]\" >\n        <div>\n\n          <tab-content-category :subcategories=\"showSubcategory\"></tab-content-category>\n          <tab-control :title=\"['综合', '新品', '销量']\"\n                       @tabClick=\"tabClick\"></tab-control>\n          <tab-content-detail :category-detail=\"showCategoryDetail\"></tab-content-detail>\n        </div>\n      </scroll-view>\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import TabMenu from '../../components/childCategory/TabMenu.vue'\n  import TabControl from \"../../components/homeChildCpns/tabControl.vue\";\n  import TabContentCategory from '../../components/childCategory/TabContentCategory.vue'\n  import TabContentDetail from '../../components/childCategory/TabContentDetail.vue'\n\n  import {getCategoryDetail,getSubcategory,getCategory} from \"../../network/category.js\";\n   import {POP, SELL, NEW} from \"../../common/const.js\";\n   import {tabControlMixin} from \"../../common/mixin.js\";\n\n  export default {\n\t\tname: \"Category\",\n    components: {\n      TabMenu,\n      TabControl,\n      TabContentCategory,\n      TabContentDetail\n    },\n    mixins: [tabControlMixin],\n    data() {\n\t\t  return {\n\t\t    categories: [],\n        categoryData: {\n        },\n        currentIndex: -1,\r\n\t\t\t\tcurrentType: POP\n      }\n    },\n    created() {\n\t\t  // 1.请求分类数据\n      this._getCategory()\n    },\n    computed: {\n\t\t  showSubcategory() {\n\t\t    if (this.currentIndex === -1) return {}\n        return this.categoryData[this.currentIndex].subcategories.data\n      },\n      showCategoryDetail() {\n\t\t    if (this.currentIndex === -1) return []\n\t\t    return this.categoryData[this.currentIndex].categoryDetail[this.currentType]\n      }\n    },\n    methods: {\n\t\t  _getCategory() {\n\t\t    getCategory().then(res => {\n\t\t      // 1.获取分类数据\n\t\t      this.categories = res[1].data.data.category.list\n          // 2.初始化每个类别的子数据\n          for (let i = 0; i < this.categories.length; i++) {\n            this.categoryData[i] = {\n              subcategories: {},\n              categoryDetail: {\n                'pop': [],\n                'new': [],\n                'sell': []\n              }\n            }\n          }\n          // 3.请求第一个分类的数据\n          this._getSubcategories(0)\n        })\n      },\n      _getSubcategories(index) {\n        this.currentIndex = index;\n\t\t    const mailKey = this.categories[index].maitKey;\n        getSubcategory(mailKey).then(res => {\n          this.categoryData[index].subcategories = res[1].data\n          this.categoryData = {...this.categoryData}\n          this._getCategoryDetail(POP)\n          this._getCategoryDetail(SELL)\n          this._getCategoryDetail(NEW)\n        })\n      },\n      _getCategoryDetail(type) {\n\t\t    // 1.获取请求的miniWallkey\n        const miniWallkey = this.categories[this.currentIndex].miniWallkey;\n        // 2.发送请求,传入miniWallkey和type\n\t\t    getCategoryDetail(miniWallkey, type).then(res => {\n\t\t      // 3.将获取的数据保存下来\n\t\t      this.categoryData[this.currentIndex].categoryDetail[type] = res[1].data\n          this.categoryData = {...this.categoryData}\n        })\n      },\n      /**\n       * 事件响应相关的方法\n       */\n      selectItem(index) {\n        this._getSubcategories(index)\n      }\n\t\t\t// tabClick(index) {\r\n\t\t\t// \tswitch (index) {\r\n\t\t\t// \t\tcase 0:\r\n\t\t\t// \t\t\tthis.currentType = POP\r\n\t\t\t// \t\t\tbreak\r\n\t\t\t// \t\tcase 1:\r\n\t\t\t// \t\t\tthis.currentType = NEW\r\n\t\t\t// \t\t\tbreak\r\n\t\t\t// \t\tcase 2:\r\n\t\t\t// \t\t\tthis.currentType = SELL\r\n\t\t\t// \t\t\tbreak\r\n\t\t\t// \t}\r\n\t\t\t// \tconsole.log(this.currentType);\r\n\t\t\t// }\r\n\t\t}\n\t}\n</script>\n\n<style scoped>\n  #category {\n    height: 100vh;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .nav-bar {\n    background-color: var(--color-tint);\n    font-weight: 700;\n    color: #fff;\n  }\n\n  .content {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0px;\n    display: flex;\n  }\n\n  #tab-content {\n    height: 100vh;\n    flex: 1;\n  }\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./category.vue?vue&type=style&index=0&id=682a9774&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./category.vue?vue&type=style&index=0&id=682a9774&scoped=true&lang=css&\""],"sourceRoot":""}